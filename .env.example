# =============================================================================
# Portal Digital - Colégio Essência Feliz
# Arquivo de Template para Desenvolvimento
# =============================================================================
# INSTRUÇÕES:
#   1. Copie este arquivo para .env (desenvolvimento local)
#   2. Para Docker, copie para .env.docker e ajuste as URLs
#   3. Customize os valores conforme necessário
# =============================================================================

# ====================================
# ENVIRONMENT
# ====================================
NODE_ENV=development

# ====================================
# DATABASE (PostgreSQL)
# ====================================
# Desenvolvimento local (sem Docker)
DATABASE_URL=postgresql://essencia:essencia_dev@localhost:5432/essencia_db

# Para Docker, use:
# DATABASE_URL=postgresql://essencia:essencia_dev@postgres:5432/essencia_db
POSTGRES_USER=essencia
POSTGRES_PASSWORD=essencia_dev
POSTGRES_DB=essencia_db

# ====================================
# REDIS
# ====================================
# Desenvolvimento local (sem Docker)
REDIS_URL=redis://localhost:6379

# Para Docker, use:
# REDIS_URL=redis://redis:6379

# ====================================
# API
# ====================================
API_PORT=3001
API_HOST=0.0.0.0

# Desenvolvimento local (sem Docker)
NEXT_PUBLIC_API_URL=http://localhost:3001

# Para Docker, use:
# NEXT_PUBLIC_API_URL=http://api:3002

# ====================================
# SESSION
# ====================================
# IMPORTANTE: Trocar por valor aleatório forte em produção
SESSION_SECRET=change-me-in-production-use-strong-secret
SESSION_TTL_HOURS=24
SESSION_RENEWAL_THRESHOLD=0.25

# ====================================
# COOKIE
# ====================================
# Desenvolvimento local
COOKIE_DOMAIN=localhost
COOKIE_SECURE=false

# Para produção, use:
# COOKIE_DOMAIN=.portalcef.com.br
# COOKIE_SECURE=true

# ====================================
# MINIO (S3-Compatible Storage)
# ====================================
# Opcional: Descomente para habilitar uploads de arquivos

# Desenvolvimento local (sem Docker)
# MINIO_ENDPOINT=http://localhost:9000
# MINIO_ACCESS_KEY=minioadmin
# MINIO_SECRET_KEY=minioadmin
# MINIO_BUCKET=essencia-uploads

# Para Docker, use:
# MINIO_ENDPOINT=http://minio:9000
# MINIO_ACCESS_KEY=minioadmin
# MINIO_SECRET_KEY=minioadmin
# MINIO_BUCKET=essencia-uploads

# ====================================
# STRIPE (Payments - Módulo Loja)
# ====================================
# Obtenha suas chaves em: https://dashboard.stripe.com/test/apikeys

# Chave secreta (backend)
STRIPE_SECRET_KEY=sk_test_seu_stripe_secret_key_aqui

# Webhook secret (para eventos do Stripe)
STRIPE_WEBHOOK_SECRET=whsec_seu_webhook_secret_aqui

# Chave pública (frontend - Next.js)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_seu_stripe_publishable_key_aqui

# ====================================
# CARBONE (Document Conversion)
# ====================================
# Opcional: Descomente se usar conversão de documentos

# Para Docker, use:
# CARBONE_URL=http://carbone:4000

# ====================================
# TRAEFIK / LET'S ENCRYPT (Produção)
# ====================================
# Usado apenas em produção com Docker

# ACME_EMAIL=seu-email@exemplo.com

# ====================================
# DOCKER RESOURCE LIMITS (Opcional)
# ====================================
# Descomente para customizar limites de memória no Docker

# DEV_MEMORY_LIMIT=4G
# DEV_MEMORY_RESERVATION=1G

# ====================================
# NOTAS IMPORTANTES
# ====================================
# 1. NUNCA commitar arquivos .env com credenciais reais
# 2. Em produção, usar secrets fortes e únicos
# 3. Stripe: Usar chaves de teste (sk_test_/pk_test_) em dev
# 4. Stripe: Trocar para chaves live (sk_live_/pk_live_) em produção
# 5. Fazer backup seguro de .env.docker (produção) fora do Git
